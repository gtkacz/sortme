(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const d of o.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&n(d)}).observe(document,{childList:!0,subtree:!0});function t(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(s){if(s.ep)return;s.ep=!0;const o=t(s);fetch(s.href,o)}})();document.getElementById("currentYear").innerHTML=new Date().getFullYear();class h{constructor(){this.input=document.getElementById("input"),this.customSeparator=document.getElementById("toggleSeparators"),this.sortedList=document.getElementById("sortedList"),this.selectAllBtn=document.getElementById("selectAll"),this.copySelectedBtn=document.getElementById("copySelected"),this.deleteSelectedBtn=document.getElementById("deleteSelected"),this.shareBtn=document.getElementById("shareBtn"),this.clearUrlBtn=document.getElementById("clearUrlBtn"),this.toast=document.getElementById("toast"),this.showIndices=document.getElementById("showIndices"),this.resetListBtn=document.getElementById("resetList"),this.items=[],this.setupEventListeners(),this.loadStateFromURL()}setupEventListeners(){this.resetListBtn.addEventListener("click",()=>this.resetList()),this.showIndices.addEventListener("change",()=>this.toggleIndices()),this.input.addEventListener("input",()=>this.processInput()),this.customSeparator.addEventListener("input",()=>this.processInput()),this.selectAllBtn.addEventListener("click",()=>{this.toggleSelectAll(),this.updateControlButtons()}),this.copySelectedBtn.addEventListener("click",()=>this.copySelected()),this.deleteSelectedBtn.addEventListener("click",()=>this.deleteSelected()),this.shareBtn.addEventListener("click",()=>this.copyShareURL()),this.clearUrlBtn.addEventListener("click",()=>this.clearURL()),this.sortedList.addEventListener("dragover",e=>{e.preventDefault();const t=this.sortedList.querySelector(".dragging"),s=[...this.sortedList.querySelectorAll(".list-item:not(.dragging)")].find(o=>e.clientY<=o.getBoundingClientRect().top+o.getBoundingClientRect().height/2);s?this.sortedList.insertBefore(t,s):this.sortedList.appendChild(t),this.updateItemsOrder()})}detectSeparator(e){return this.customSeparator.value?this.customSeparator.value:e.includes(`
`)?`
`:e.includes(",")?",":e.includes(";")?";":`
`}processInput(){const e=this.input.value.trim(),t=this.detectSeparator(e);this.items=e.split(t).map(n=>n.trim()).filter(n=>n).sort((n,s)=>n.localeCompare(s)),this.renderList(),this.updateURLState()}renderList(){this.sortedList.innerHTML=this.items.map((e,t)=>`
				<div class="list-item" draggable="true">
					<div class="checkbox-wrapper">
					<label class="checkbox">
						<input type="checkbox">
						<svg><use xlink:href="#checkbox-svg"></use></svg>
					</label>
					</div>
					<span>${e}</span>
					<span class="item-index">#${t+1}</span>
				</div>
				`).join(""),this.sortedList.querySelectorAll(".list-item").forEach(e=>{e.addEventListener("dragstart",()=>e.classList.add("dragging")),e.addEventListener("dragend",()=>{e.classList.remove("dragging"),this.updateItemsOrder()})}),this.sortedList.querySelectorAll('input[type="checkbox"]').forEach(e=>{e.addEventListener("change",()=>this.updateControlButtons())}),this.updateControlButtons()}removeItem(e){this.items.splice(e,1),this.renderList(),this.updateURLState()}updateItemsOrder(){const e=[...this.sortedList.querySelectorAll(".list-item")];this.items=e.map(t=>t.querySelector("span:not(.checkbox):not(.item-index)").textContent),e.forEach((t,n)=>{t.querySelector(".item-index").textContent=`#${n+1}`}),this.updateURLState()}toggleSelectAll(){const e=this.sortedList.querySelectorAll('input[type="checkbox"]'),t=[...e].every(n=>n.checked);e.forEach(n=>n.checked=!t)}updateControlButtons(){const e=this.sortedList.querySelectorAll('input[type="checkbox"]'),t=Array.from(e).some(s=>s.checked),n=e.length>0&&Array.from(e).every(s=>s.checked);this.deleteSelectedBtn.classList.toggle("disabled",!t),this.copySelectedBtn.classList.toggle("disabled",!t),this.selectAllBtn.textContent=n?"Unselect All":"Select All",this.selectAllBtn.classList.toggle("disabled",this.items.length===0),this.resetListBtn.classList.toggle("disabled",this.items.length===0),this.shareBtn.disabled=!(this.items.length>0||this.customSeparator.value),this.shareBtn.classList.toggle("disabled",this.shareBtn.disabled)}updateURLState(){const e=new URLSearchParams;this.customSeparator.value&&e.set("separator",this.customSeparator.value),this.items.length&&e.set("items",this.items.join(",")),window.history.replaceState({},"",`?${e.toString()}`),this.parseClearUrlBtnEnabled()}loadStateFromURL(){const e=new URLSearchParams(window.location.search);this.customSeparator.value=e.get("separator")||"";const t=e.get("items");t&&(this.input.value=t.split(",").join(`
`),this.processInput()),this.parseClearUrlBtnEnabled()}parseClearUrlBtnEnabled(){const e=new URLSearchParams(window.location.search);this.clearUrlBtn.disabled=!e.has("separator")&&!e.has("items"),this.clearUrlBtn.classList.toggle("disabled",this.clearUrlBtn.disabled)}clearURL(){window.history.replaceState({},"",window.location.pathname),this.customSeparator.value="",this.input.value="",this.processInput()}copyShareURL(){this.updateURLState(),navigator.clipboard.writeText(window.location.href).then(()=>{this.showToast("Link copied to clipboard!")})}copySelected(){const e=[...this.sortedList.querySelectorAll(".list-item")].filter(t=>t.querySelector('input[type="checkbox"]').checked).map(t=>t.querySelector("span:not(.checkbox)").textContent);e.length!==0&&navigator.clipboard.writeText(e.join(",")).then(()=>this.showToast("Copied to clipboard!"))}deleteSelected(){const e=[...this.sortedList.querySelectorAll(".list-item")].filter(t=>!t.querySelector('input[type="checkbox"]').checked).map(t=>t.querySelector("span:not(.checkbox)").textContent);this.items=e,this.renderList(),this.updateURLState()}showToast(e){this.toast.textContent=e,this.toast.classList.add("show"),setTimeout(()=>this.toast.classList.remove("show"),2e3)}toggleIndices(){this.sortedList.classList.toggle("show-indices",this.showIndices.checked)}resetList(){this.processInput(),this.renderList(),this.updateURLState()}}new h;const p=document.getElementById("helpIcon"),r=document.getElementById("helpModal"),u=r.querySelector(".close");p.addEventListener("click",()=>{r.style.display="block"});u.addEventListener("click",()=>{r.style.display="none"});window.addEventListener("click",i=>{i.target==r&&(r.style.display="none")});const m=[{id:"copySelected",text:"Copy selected items to clipboard",direction:"top"},{id:"deleteSelected",text:"Delete selected items",direction:"top"},{id:"shareBtn",text:"Share link to current list",direction:"top"},{id:"resetList",text:"Reset the list to as it was at the moment of input",direction:"right"},{id:"clearUrlBtn",text:"Clear current list and URL parameters",direction:"top"},{id:"toggleIndices",text:"Show indices",direction:"top"},{id:"github",text:"Source code on GitHub",direction:"top"},{id:"googlefonts",text:"Google Fonts",direction:"top"},{id:"tabler",text:"Tabler",direction:"top"},{id:"simpleicons",text:"Simple Icons",direction:"top"}];m.forEach(i=>{const e=document.getElementById(i.id),t=document.createElement("div");t.className="control-tooltip",t.textContent=i.text,t.style.cssText=`
		display: none;
		position: absolute;
		${i.direction==="top"?"bottom: calc(100% + 8px); left: 50%; transform: translateX(-50%);":""}
		${i.direction==="left"?"right: calc(100% + 8px); top: 50%; transform: translateY(-50%);":""}
		`,e.appendChild(t),e.addEventListener("mouseenter",()=>t.style.display="block"),e.addEventListener("mouseleave",()=>t.style.display="none")});const c=[`
`,";",","];let l=!1;document.getElementById("toggleSeparators").addEventListener("click",()=>{l=!l,document.getElementById("separator-chips-container").style.display=l?"flex":"none",document.getElementById("separator-input-wrapper").style.display=l?"flex":"none",a()});function a(){const i=document.getElementById("separator-chips-container");i.innerHTML="",c.forEach(e=>{const t=document.createElement("div");t.className="separator-chip",t.innerHTML=`
		<span>${e===`
`?"\\n":e}</span>
		<button type="button" class="delete-separator">&times;</button>
	  `,t.querySelector("button").addEventListener("click",()=>{c.splice(c.indexOf(e),1),a()}),i.appendChild(t)})}document.getElementById("save-separators").addEventListener("click",()=>{const i=document.getElementById("separator-input");i.value.trim()&&(c.push(i.value.trim()),i.value="",a())});document.getElementById("separator-input").addEventListener("keyup",i=>{(i.key==="Enter"||i.key===",")&&document.getElementById("save-separators").click()});a();
